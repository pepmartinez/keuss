"use strict";(self.webpackChunkkeuss_docusaurus=self.webpackChunkkeuss_docusaurus||[]).push([[4372],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),u=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},d=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),c=u(n),m=r,h=c["".concat(l,".").concat(m)]||c[m]||p[m]||o;return n?a.createElement(h,s(s({ref:t},d),{},{components:n})):a.createElement(h,s({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,s=new Array(o);s[0]=c;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var u=2;u<o;u++)s[u]=n[u];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},4937:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>u});var a=n(7462),r=(n(7294),n(3905));const o={id:"about",title:"About",sidebar_label:"About",slug:"/"},s=void 0,i={unversionedId:"about",id:"about",title:"About",description:"Keuss is an attempt or experiment to provide a serverless, persistent and high-available queue middleware supporting delays/schedule, using mongodb and redis to provide most of the backend needs. As of now, it has evolved into a rather capable and complete queue middleware.",source:"@site/docs/01-about.md",sourceDirName:".",slug:"/",permalink:"/keuss/docs/",draft:!1,editUrl:"https://github.com/pepmartinez/keuss/edit/master/website/docs/01-about.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"about",title:"About",sidebar_label:"About",slug:"/"},sidebar:"tutorialSidebar",next:{title:"Quickstart",permalink:"/keuss/docs/quickstart"}},l={},u=[],d={toc:u};function p(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Keuss is an attempt or experiment to provide a serverless, persistent and high-available queue middleware supporting delays/schedule, using mongodb and redis to provide most of the backend needs. As of now, it has evolved into a rather capable and complete queue middleware."),(0,r.kt)("p",null,"The underlying idea is that the key to provide persistency, HA and load balance is to rely on a storage subsystem that provides that, and build the rest on top. Instead of reinventing the wheel by building such as storage I simply tried to adapt what's already out there."),(0,r.kt)("p",null,"Modelling a queue with mongodb, for example, proved easy enough. It resulted simple, cheap and provides great persistency, HA and decent support for load balancing. Although using Redis provided similar results, in both cases the load balancing part was somewhat incomplete: the whole thing lacked a ",(0,r.kt)("em",{parentName:"p"},"bus")," to signal all clients about, for example, when an insertion in a particular queue takes place. Without this layer a certain amount of polling is needed, so it's obviously a Nice Thing To Have."),(0,r.kt)("p",null,"Keuss ended up being a somewhat ",(0,r.kt)("em",{parentName:"p"},"serverless")," queue system, where the ",(0,r.kt)("em",{parentName:"p"},"server")," or common parts are bare storage systems such as redis or mongodb. There is no need for any extra ",(0,r.kt)("em",{parentName:"p"},"keuss server")," in between clients and storage (although an actual ",(0,r.kt)("inlineCode",{parentName:"p"},"keuss-server")," does exist, serving a different purpose on top of plain keuss). Thus, all keuss actually lays at the ",(0,r.kt)("em",{parentName:"p"},"client")," side."),(0,r.kt)("p",null,"As time passed more complex backens were added to cater for more specific needs: "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Starting with v1.5.2 a new backend based on buckets was added to break the latency and throughput barrier imposed by mongodb\ninsert and update/remove: several elements are packed ina singel mongodb document, thus providing a much greater throughput; the price to pay is a slightly worse durability on catasthrophic events (see ",(0,r.kt)("a",{parentName:"li",href:"/docs/usage/buckets"},"here"),")"),(0,r.kt)("li",{parentName:"ul"},"On v1.6.0 Pipelines were added: pipelines are based on queues where moving elements to one queue to another is totally atomic,\nthus allowing the creation of ETL-like graphs where moving from oen queue to the next is perfectly transcational (element guaranteed to end up in exactly one queue) (see ",(0,r.kt)("a",{parentName:"li",href:"/docs/usage/pipelines/about"},"here"),")"),(0,r.kt)("li",{parentName:"ul"},"On v1.7.0 a new ",(0,r.kt)("inlineCode",{parentName:"li"},"mongo-stream")," backend was added, which sits in between ",(0,r.kt)("em",{parentName:"li"},"job queue")," (ie, a consume operation removes the message\nfrom queue) and ",(0,r.kt)("em",{parentName:"li"},"event stream")," (ie, a single message can be consumed more than once). It is not a pure stream in the sense than\nthe nuber of possible consumers is limited (nd somewhat predefined), but it provides event funcionality for free if you already\nuse mongodb, without having to add and maintain another subsystem (see ",(0,r.kt)("a",{parentName:"li",href:"/docs/usage/streaming/stream-mongo"},"here"),")")))}p.isMDXComponent=!0}}]);